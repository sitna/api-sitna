<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>2.2. Maquetación - API SITNA</title>
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="../assets/vendor/yui-min.js"></script>
</head>
<body>

<div id="doc">
    <header class="main-header">
        <div class="content">
            <div class="project-title">
                    <a href="../"><img class="logo" src="http://sitna.tracasa.es/api/tc/css/img/sitna-logo.png" title="API SITNA"></a>
                
                    <h1 class="project-name"><a href="../">API SITNA</a></h1> <span class="project-version">1.5.0</span>
                
                
                    <p class="description">API de mapas del Gobierno de Navarra</p>
                
            </div>
            <ul class="jump-links">
                <li><a href="#index" class="index-jump-link">&iacute;ndice</a></li>
                <li><a href="#top" class="top-jump-link">inicio</a></li>
            </ul>
        </div>
    </header>
    <div id="bd" class="main-body">

        <div id="docs-sidebar" class="sidebar apidocs">
            ﻿<div id="api-list">
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-modules">Secciones</a></li>
            <li><a href="#api-classes">Clases</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Escriba para filtrar la API">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-modules" class="apis modules">
            
                <li><a class="module" href="../modules/1. Direcciones de la API.html">1. Direcciones de la API</a></li>
            
                <li><a class="module" href="../modules/2. Configuración.html">2. Configuración</a></li>
            
                <li><a class="module" href="../modules/2.1. Parámetros del constructor.html">2.1. Parámetros del constructor</a></li>
            
                <li><a class="module" href="../modules/2.2. Maquetación.html">2.2. Maquetación</a></li>
            
                <li><a class="module" href="../modules/2.3. Objeto de configuración global.html">2.3. Objeto de configuración global</a></li>
            
                <li><a class="module" href="../modules/2.3.1. Objeto de configuración de opciones del buscador.html">2.3.1. Objeto de configuración de opciones del buscador</a></li>
            
                <li><a class="module" href="../modules/3. Clases CSS.html">3. Clases CSS</a></li>
            
                <li><a class="module" href="../modules/3.1. layerCatalog.html">3.1. layerCatalog</a></li>
            
                <li><a class="module" href="../modules/4. Historial de cambios.html">4. Historial de cambios</a></li>
            
            </ul>

            <ul id="api-classes" class="apis classes">
            
                <li><a title="SITNA.Cfg" class="type" href="../classes/SITNA.Cfg.html">SITNA.Cfg</a></li>
            
                <li><a title="SITNA.cfg.ClickOptions" class="type" href="../classes/SITNA.cfg.ClickOptions.html">SITNA.cfg.ClickOptions</a></li>
            
                <li><a title="SITNA.cfg.ClusterOptions" class="type" href="../classes/SITNA.cfg.ClusterOptions.html">SITNA.cfg.ClusterOptions</a></li>
            
                <li><a title="SITNA.cfg.ClusterStyleOptions" class="type" href="../classes/SITNA.cfg.ClusterStyleOptions.html">SITNA.cfg.ClusterStyleOptions</a></li>
            
                <li><a title="SITNA.cfg.ControlOptions" class="type" href="../classes/SITNA.cfg.ControlOptions.html">SITNA.cfg.ControlOptions</a></li>
            
                <li><a title="SITNA.cfg.CoordinatesOptions" class="type" href="../classes/SITNA.cfg.CoordinatesOptions.html">SITNA.cfg.CoordinatesOptions</a></li>
            
                <li><a title="SITNA.cfg.DataLoaderOptions" class="type" href="../classes/SITNA.cfg.DataLoaderOptions.html">SITNA.cfg.DataLoaderOptions</a></li>
            
                <li><a title="SITNA.cfg.LayerCatalogOptions" class="type" href="../classes/SITNA.cfg.LayerCatalogOptions.html">SITNA.cfg.LayerCatalogOptions</a></li>
            
                <li><a title="SITNA.cfg.LayerOptions" class="type" href="../classes/SITNA.cfg.LayerOptions.html">SITNA.cfg.LayerOptions</a></li>
            
                <li><a title="SITNA.cfg.LineStyleOptions" class="type" href="../classes/SITNA.cfg.LineStyleOptions.html">SITNA.cfg.LineStyleOptions</a></li>
            
                <li><a title="SITNA.cfg.MapControlOptions" class="type" href="../classes/SITNA.cfg.MapControlOptions.html">SITNA.cfg.MapControlOptions</a></li>
            
                <li><a title="SITNA.cfg.MarkerOptions" class="type" href="../classes/SITNA.cfg.MarkerOptions.html">SITNA.cfg.MarkerOptions</a></li>
            
                <li><a title="SITNA.cfg.MarkerStyleOptions" class="type" href="../classes/SITNA.cfg.MarkerStyleOptions.html">SITNA.cfg.MarkerStyleOptions</a></li>
            
                <li><a title="SITNA.cfg.OverviewMapOptions" class="type" href="../classes/SITNA.cfg.OverviewMapOptions.html">SITNA.cfg.OverviewMapOptions</a></li>
            
                <li><a title="SITNA.cfg.PointStyleOptions" class="type" href="../classes/SITNA.cfg.PointStyleOptions.html">SITNA.cfg.PointStyleOptions</a></li>
            
                <li><a title="SITNA.cfg.PolygonStyleOptions" class="type" href="../classes/SITNA.cfg.PolygonStyleOptions.html">SITNA.cfg.PolygonStyleOptions</a></li>
            
                <li><a title="SITNA.cfg.SearchCadastralSource" class="type" href="../classes/SITNA.cfg.SearchCadastralSource.html">SITNA.cfg.SearchCadastralSource</a></li>
            
                <li><a title="SITNA.cfg.SearchCadastralSourceExt" class="type" href="../classes/SITNA.cfg.SearchCadastralSourceExt.html">SITNA.cfg.SearchCadastralSourceExt</a></li>
            
                <li><a title="SITNA.cfg.SearchMunicipalitySource" class="type" href="../classes/SITNA.cfg.SearchMunicipalitySource.html">SITNA.cfg.SearchMunicipalitySource</a></li>
            
                <li><a title="SITNA.cfg.SearchOptions" class="type" href="../classes/SITNA.cfg.SearchOptions.html">SITNA.cfg.SearchOptions</a></li>
            
                <li><a title="SITNA.cfg.SearchPostalAddressSource" class="type" href="../classes/SITNA.cfg.SearchPostalAddressSource.html">SITNA.cfg.SearchPostalAddressSource</a></li>
            
                <li><a title="SITNA.cfg.SearchQueryProperties" class="type" href="../classes/SITNA.cfg.SearchQueryProperties.html">SITNA.cfg.SearchQueryProperties</a></li>
            
                <li><a title="SITNA.cfg.SearchStreetSource" class="type" href="../classes/SITNA.cfg.SearchStreetSource.html">SITNA.cfg.SearchStreetSource</a></li>
            
                <li><a title="SITNA.cfg.SearchSuggestionListColor" class="type" href="../classes/SITNA.cfg.SearchSuggestionListColor.html">SITNA.cfg.SearchSuggestionListColor</a></li>
            
                <li><a title="SITNA.cfg.SearchSuggestionListColorByFeatureType" class="type" href="../classes/SITNA.cfg.SearchSuggestionListColorByFeatureType.html">SITNA.cfg.SearchSuggestionListColorByFeatureType</a></li>
            
                <li><a title="SITNA.cfg.SearchSuggestionListProperties" class="type" href="../classes/SITNA.cfg.SearchSuggestionListProperties.html">SITNA.cfg.SearchSuggestionListProperties</a></li>
            
                <li><a title="SITNA.cfg.SearchTownSource" class="type" href="../classes/SITNA.cfg.SearchTownSource.html">SITNA.cfg.SearchTownSource</a></li>
            
                <li><a title="SITNA.cfg.StreetViewOptions" class="type" href="../classes/SITNA.cfg.StreetViewOptions.html">SITNA.cfg.StreetViewOptions</a></li>
            
                <li><a title="SITNA.cfg.StyleOptions" class="type" href="../classes/SITNA.cfg.StyleOptions.html">SITNA.cfg.StyleOptions</a></li>
            
                <li><a title="SITNA.cfg.WMSGroupOptions" class="type" href="../classes/SITNA.cfg.WMSGroupOptions.html">SITNA.cfg.WMSGroupOptions</a></li>
            
                <li><a title="SITNA.cfg.WMSOptions" class="type" href="../classes/SITNA.cfg.WMSOptions.html">SITNA.cfg.WMSOptions</a></li>
            
                <li><a title="SITNA.Consts" class="type" href="../classes/SITNA.Consts.html">SITNA.Consts</a></li>
            
                <li><a title="SITNA.consts.Geom" class="type" href="../classes/SITNA.consts.Geom.html">SITNA.consts.Geom</a></li>
            
                <li><a title="SITNA.consts.Layer" class="type" href="../classes/SITNA.consts.Layer.html">SITNA.consts.Layer</a></li>
            
                <li><a title="SITNA.consts.LayerType" class="type" href="../classes/SITNA.consts.LayerType.html">SITNA.consts.LayerType</a></li>
            
                <li><a title="SITNA.consts.MimeType" class="type" href="../classes/SITNA.consts.MimeType.html">SITNA.consts.MimeType</a></li>
            
                <li><a title="SITNA.Map" class="type" href="../classes/SITNA.Map.html">SITNA.Map</a></li>
            
            </ul>
        </div>
    </div>
</div>

        </div>

        <div id="docs-main" class="apidocs">
            <div class="content container">
                ﻿<h1><!--Módulo -->2.2. Maquetación</h1>
<div class="box clearfix meta">
    

    

    
        <div class="foundat" style="display:none">
            Definido en: <a href="../files/sitna.js.html#l4050"><code>sitna.js:4050</code></a>
        </div>
    

    
</div>



<div class="box intro">
    <p>Cuando se instancia un mapa, se carga una maquetación que establece qué datos se cargan, qué controles y en que distribución se muestran, y qué estilo
va a tener el visor. La API SITNA tiene una maquetación definida por defecto, pero esto se puede cambiar utilizando la opción
<a href="../classes/SITNA.Cfg.html#property_layout" class="crosslink">layout</a>:</p>
<h4 id="ejemplo-">Ejemplo:</h4>
<pre class="code prettyprint"><code class="lang-javascript">var map = new SITNA.Map("mapa", {
  layout: "layouts/mylayout"
});</code></pre>
<p>El valor de esa opción es una ruta a una carpeta, donde se encontrarán todos o alguno de los siguientes archivos:</p>
<ul>
<li><code>markup.html</code>, con la plantilla HTML que se inyectará en el elemento del DOM del mapa.</li>
<li><code>config.json</code>, con un objeto JSON que sobreescribirá propiedades de <a href="../classes/SITNA.Cfg.html" class="crosslink">SITNA.Cfg</a>.</li>
<li><code>style.css</code>, para personalizar el estilo del visor y sus controles.</li>
<li><code>script.js</code>, para añadir lógica nueva. Este es el lugar idóneo para la lógica de la nueva interfaz definida por el marcado inyectado con <code>markup.html</code>.</li>
<li><code>ie8.css</code>, para adaptar el estilo a Internet Explorer 8, dado que este navegador tiene soporte CSS3 deficiente.</li>
<li><code>resources/*.json</code>, donde <code>*</code> es el código IETF del idioma que tendrá la interfaz de usuario, por ejemplo <code>resources/es-ES.json</code>.
Si se van a soportar varios idiomas hay que preparar un archivo por idioma. Para saber cómo establecer un idioma de interfaz de usuario, consultar
la opción <code>locale</code> del constructor de <a href="../classes/SITNA.Map.html" class="crosslink">SITNA.Map</a>.</li>
</ul>
<p>La maquetación por defecto añade los siguientes controles al conjunto por defecto: <a href="../classes/SITNA.cfg.MapControlOptions.html#property_navBar" class="crosslink">navBar</a>,
<a href="../classes/SITNA.cfg.MapControlOptions.html#property_basemapSelector" class="crosslink">basemapSelector</a>, <a href="../classes/SITNA.cfg.MapControlOptions.html#property_TOC" class="crosslink">TOC</a>,
<a href="../classes/SITNA.cfg.MapControlOptions.html#property_legend" class="crosslink">legend</a>, <a href="../classes/SITNA.cfg.MapControlOptions.html#property_scaleBar" class="crosslink">scaleBar</a>,
<a href="../classes/SITNA.cfg.MapControlOptions.html#property_search" class="crosslink">search</a>, <a href="../classes/SITNA.cfg.MapControlOptions.html#property_measure" class="crosslink">measure</a>,
<a href="../classes/SITNA.cfg.MapControlOptions.html#property_overviewMap" class="crosslink">overviewMap</a> y <a href="../classes/SITNA.cfg.MapControlOptions.html#property_popup" class="crosslink">popup</a>.
Puede <a href="../../tc/layout/responsive/responsive.zip">descargar la maquetación por defecto</a>.</p>
<h3 id="soporte-multiidioma">Soporte multiidioma</h3>
<p>La API soporta actualmente tres idiomas: castellano, euskera e inglés. Para saber cómo establecer un idioma de interfaz de usuario, consultar la opción
<code>locale</code> del constructor de <a href="../classes/SITNA.Map.html" class="crosslink">SITNA.Map</a>. Los textos específicos para cada idioma se guardan en archivos <code>*.json</code>,
donde <code>*</code> es el código IETF del idioma de la interfaz de usuario, dentro de la subcarpeta resources en la dirección donde se aloja la API SITNA.
Por ejemplo, los textos en castellano se guardan en <code>resources/es-ES.json</code>. Estos archivos contienen un diccionario en formato JSON de pares clave/valor,
siendo la clave un identificador único de cadena y el valor el texto en el idioma elegido.</p>
<p>Para añadir soporte multiidioma a la maquetación, hay que crear un archivo de recursos de texto para cada idioma soportado y colocarlo en la subcarpeta
<code>resources</code> dentro de la carpeta de maquetación. Este diccionario se combinará con el diccionario de textos propio de la API.</p>
<p>Por otro lado, la plantilla contenida en <code>markup.html</code> puede tener identificadores de cadena de texto entre dobles llaves. La API
sustituirá estos textos por los valores del diccionario correspondiente al idioma de la interfaz de usuario.</p>
<p>Finalmente, hay que activar el soporte multiidioma añadiendo a config.json una clave <code>"i18n": true</code>.</p>

</div>



<div class="yui3-g">
    <div class="yui3-u-1-2">
        
    </div>

    <div class="yui3-u-1-2">
        
    </div>
</div>

            </div>
        </div>

    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/vendor/jquery.min.js"></script>
<script src="../assets/js/jquery-offscreen-trigger.js"></script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
