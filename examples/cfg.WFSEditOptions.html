<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
    <title>SITNA - Ejemplo de WFSEditOptions</title>
    <link rel="stylesheet" href="examples.css" />
</head>
<body>
    <div class="instructions">
        <p>Ejemplo de uso de <a href="../doc/global.html#WFSEditOptions">WFSEditOptions</a>.</p>
        <p>Edición de entidades de un servicio WFS.</p>
        <p>Para el ejemplo se utiliza un service worker modificado que intercepta las transacciones y simula sus respuestas. 
        Por tanto, las ediciones no se guardan realmente en el servidor.</p>
    </div>
    <script src="../"></script>
    <script type="text/javascript" src="examples.js"></script>
    <script type="text/javascript" src="cfg.WFSEditOptions.mock.js"></script>
    
    <div id="mapa"></div>
    <script>
        // Establecemos un layout simplificado apto para hacer demostraciones de controles.
        SITNA.Cfg.layout = "layout/ctl-container";
        // Añadimos el control multiFeatureInfo.
        SITNA.Cfg.controls.WFSEdit = {
            div: "slot1",
            downloadElevation: { // Si se desacargan las entidades, se ofrece la opción de añadirles elevaciones
                resolution: 20 // Si se interpolan puntos intermedios, por defecto se añadirán cada 20 metros
            }
        };
        // Añadimos una capa WMS sobre la que hacer las consultas.
        // El servicio WMS de IDENA tiene un servicio WFS asociado (imprescindible para consultas por línea o recinto).
        SITNA.Cfg.workLayers = [
            {
                id: "cp",
                type: SITNA.Consts.layerType.WMS,
                url: "https://idena.navarra.es/ogc/wms",
                layerNames: ["IDENA:PATRIM_Pol_Merindades"]
            }
        ];
        var map = new SITNA.Map("mapa");
    </script>

</body>
</html>
