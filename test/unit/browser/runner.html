<!DOCTYPE html>
<html>
<head>
    <title>Mocha</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../../node_modules/mocha/mocha.css" />
    <style>
        #mocha .test.fail:before {
            content: "";
            background-color: red;
            position: fixed;
            top: 0;
            left: 0;
            bottom: 90vh;
            right: 0;
            opacity: 0.5;
        }
    </style>
    <script src="../../../node_modules/mocha/mocha.js"></script>
    <script src="../../../node_modules/chai/chai.js"></script>
</head>
<body>
    <div id="mocha"></div>
    <script>
        document.querySelector('title').textContent = 'Mocha - ' + new Date().toLocaleTimeString();

        mocha.setup({
            ui: 'bdd'
        });
        var expect = chai.expect;
        let controlCounter = 0;
        const addControlDiv = function () {
            const div = document.createElement('div');
            const id = 'test-ctl-' + controlCounter++;
            div.setAttribute('id', id);
            document.getElementById('ctl-container').appendChild(div);
            return id;
        };
    </script>
    <script src="http://localhost:8080/sitna.js"></script>

    <div id="ctl-container"></div>
    <!-- Tests -->
    <script src="ol.js"></script>
    <script src="control/Attribution.js"></script>
    <script src="control/BasemapSelector.js"></script>
    <script src="control/Coordinates.js"></script>
    <script src="control/Download.js"></script>
    <script src="control/Draw.js"></script>
    <script src="control/Edit.js"></script>
    <script src="control/ExternalWMS.js"></script>
    <script src="control/FeatureInfo.js"></script>
    <script src="control/FeatureTools.js"></script>
    <script src="control/FileEdit.js"></script>
    <script src="control/FileImport.js"></script>
    <script src="control/FullScreen.js"></script>
    <script src="control/Geolocation.js"></script>
    <script src="control/LanguageSelector.js"></script>
    <script src="control/LayerCatalog.js"></script>
    <script src="control/Legend.js"></script>
    <script src="control/LineFeatureInfo.js"></script>
    <script src="control/LoadingIndicator.js"></script>
    <script src="control/Measure.js"></script>
    <script src="control/Modify.js"></script>
    <script src="control/NavBar.js"></script>
    <script src="control/OfflineMapMaker.js"></script>
    <script src="control/DrawMeasureModify.js"></script>
    <script src="control/OverviewMap.js"></script>
    <script src="control/PolygonFeatureInfo.js"></script>
    <script src="control/Popup.js"></script>
    <script src="control/PrintMap.js"></script>
    <script src="control/ResultsPanel.js"></script>
    <script src="control/Scale.js"></script>
    <script src="control/ScaleBar.js"></script>
    <script src="control/ScaleSelector.js"></script>
    <script src="control/Search.js"></script>
    <script src="control/Share.js"></script>
    <script src="control/StreetView.js"></script>
    <script src="control/TabContainer.js"></script>
    <script src="control/ThreeD.js"></script>
    <script src="control/TOC.js"></script>
    <script src="control/WFSQuery.js"></script>
    <script src="control/WorkLayerManager.js"></script>
    <script src="TC/Util.js"></script>
    <script src="TC/Consts.js"></script>
    <script src="TC/Cfg.js"></script>
    <script src="layer/Vector.js"></script>
    <script src="feature/Point.js"></script>
    <!--<script src="layer/Raster.js"></script>-->
    <!--<script src="tool/Elevation.js"></script>-->
    <!--<script src="tool/WFSOperations.js"></script>-->
    <!-- Para los test es necesario un SW y phantomJS no lo soporta -->
    <!--<script src="tool/Proxification.js"></script>-->

    <script>
        TC.i18n.loadResources(true, 'http://localhost:8080/resources/', 'es-ES').then(() => mocha.run());
    </script>
</body>
</html>