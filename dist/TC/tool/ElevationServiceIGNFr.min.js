TC.tool=TC.tool||{};TC.tool.ElevationService||TC.syncLoadJS(TC.apiLocation+"TC/tool/ElevationService");TC.tool.ElevationServiceIGNFr=function(t){TC.tool.ElevationService.apply(this,arguments);this.url=this.options.url||"//wxs.ign.fr/essentiels/alti/wps";this.process=this.options.process||"gs:WPSElevation";this.profileProcess=this.options.profileProcess||"gs:WPSLineElevation";this.minimumElevation=this.options.minimumElevation||-99998;this.nativeCRS="EPSG:4326"};TC.inherit(TC.tool.ElevationServiceIGNFr,TC.tool.ElevationService);!function(){const t=TC.tool.ElevationServiceIGNFr.prototype;t.request=function(t){const o=this;let e=(t=t||{}).coordinates;t.crs&&t.crs!==o.nativeCRS&&(e=TC.Util.reproject(e,t.crs,o.nativeCRS));const i={lon:e.map(function(t){return t[0]}).join("|"),lat:e.map(function(t){return t[1]}).join("|"),crs:"crs:84",format:"json"};return TC.tool.ElevationService.prototype.request.call(o,{dataInputs:i,process:o.process})};t.parseResponse=function(t,o){if(t.elevations){var e=t.elevations.map(function(t){return[t.lon,t.lat,t.z]});o.crs&&o.crs!==this.nativeCRS&&(e=TC.Util.reproject(e,this.nativeCRS,o.crs));return TC.tool.ElevationService.prototype.parseResponse.call(this,{coordinates:e},o)}return[]}}();